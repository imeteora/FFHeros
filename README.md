
说明
------------

* 目录结构

  整个工程目录中，分为三个部分，以目录形式存在，分别是

  * 核心架构

    包括 

    * BaseMVC 基础MVC结构
    * Modelize 数据模型互转模块
    * Network  HTTP网络模块
    * Utils, Crypto. 基础工具集

  * 控件集合

    包括：

    * Toast: 提示框组件 (100%)
    * Blur: 图片模糊组件 (100%)
    * NavigationController: 导航控制器组件 (70%)
    * PullRefresh: 下拉刷新组件 (90%，有bug)
    * Router: 内部路由组件 (35%)
    * WebImage: 网络图片下载组件 （100%）

  * 业务集合

    * NavigationHelper 统一的页面跳转控制器 (针对未完成的Router替代方案)
    * Common 业务需求相关的各种通用数据模型，网络请求API等
    * Favourite User点赞或关注需求视图模块
    * HeroDetail 英雄详情页模块
    * Home 主页模块
    * Search 搜索页面模块
    * WebViewController 内置浏览器模块

* 基础结构设计

  * 本着让客户程序能够在使用尽可能少的代码情况下，进行快速的需求开发。如何有效组织模型M、视图V和控制器C之间的关联结构是最大的问题。在本工程中，事实上并不是一个严格意义上的标准MVC，是介于MVC和MVVM的结构，绝大部分的逻辑控制、和视图填充都由控制器来完成，而对于数据的获取、分析、抽象以及判定方面，则是由各个业务模块的VM来解决。控制器通过和VM的协作一起完成数据的自动加载，自动分析解构和填充。

  * 数据模型互转模块

    感谢上帝，`Objective-C`的反射机制赋予开发者的权力很多。利用这样一个能力，能够在客户开发者无感的情况下，自动完成`JSON`数据与自定义模型`Model`之间的相互转换，减少开发者在这方面时间的浪费。

  * 网络模块

    开发网络模块异步加载模块，是一个艰难的过程。这部分主要是使用`NSOperation`和`NSOperationQueue`作为多线程开发的基础。通讯部分使用`NSURLSession`和`NSURLSessionDownloadTask`来做。鉴于内存方面的考虑，我没有使用`NSURLSessionDataTask`。

    该模块在设计上，同样是本着方面客户开发者能够快速简单完成需求开发，模块给出的操作方法都比较简单。通过一个配置对象来设置网络请求api，并结合`数据模型互转模块`能够实现简单三步操作就能够完成一次网络请求过程。

    这期间最苦难的就是测试过程中，访问远端API并不稳定。一直怀疑是由于多线程`NSOperation`操作完成之后被提早释放，是导致网络数据介绍失败，提示请求超时等问题的原因。但经过多次的反复修正和尝试，效果稍有改善，似乎并不是这方面的原因。这个还需要继续后续的考察。

  * 内部路由组件

    `Router`组件本来想设计完成的功能还是挺多的，导致最后没有完全完成。总体进度大概50%。

    该组件的目标是通过类似`RESTful`的短链接达成以下几个目标：

    * 方便各个业务页面之间的跳转
    * 获取其他业务模块的页面实例
    * 实现各个业务页面之间的正向消息传递
    * 无缝链接iOS App的消息推送
    * 无缝衔接外部`SSO`请求
    * 通过解析，实现标准`RESTfull`请求链接和内部短连接之间的互转

    由于时间来不及了，很遗憾没有做完，目前只完成了`短链接解析`和`短链接和类型对应关系控制`两个地方，还缺少：

    * RESTful链接解析转译模块
    * 短链接URL的解析转译
    * `RESTful`和`短链接`之间的正向转译
    * 视图页面跳转控制
    * web view controller内部对其的兼容模块 等

* 需求

  大致上，这次需求做的功能点，应该都差不多完成了。但对于整个Marvel API的整体需求肯定是没有完成，最起码缺少了不少类似comics, stories, events等需求主页。这些页面也是有不少的开发量和需要不少的开发时间。

* 总结
  由于时间紧，需要做的工作较多。整个工程能够满足需求的基本功能，完成英雄列表主页，英雄详情页，英雄搜索页，英雄关注列表页和内置web浏览器页面。

  而还有类似comics，stories 等其他业务页面（如各个分类的主页）并没有办法按时完成。更多的时间精力都花在基础架构的设计实现上，特别是网络组件(Network)和内部路由器(Router)这两个部分在构造开发过程中遇到了不小的困难。主要问题是在于：搞不清楚为什么请求Marvel API时好时坏，费解。

  应该说自己对这次经历很满意，找到了自己的缺陷，也肯定了自己的一些想法。再接再厉，未来继续完成这个项目。